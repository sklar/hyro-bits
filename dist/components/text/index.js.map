{"version":3,"sources":["../../../src/components/text/index.ts","../../../src/components/text/text.tsx","../../../src/components/text/text.styles.ts","../../../src/styles/index.ts","../../../src/styles/animations.ts"],"sourcesContent":["export { Text } from './text';\nexport type { TextProps, TruncateOptionType } from './text';\n\nexport { text } from './text.styles';\n","import styled from '@emotion/styled';\nimport React, { ElementType, forwardRef, HTMLAttributes } from 'react';\n\nimport { text } from './text.styles';\n\nexport type TruncateOptionType = {\n  begin: number;\n  end: number;\n  limit: number;\n};\n\nfunction shorten(text: string, { begin = 0, end = 0, limit = 5 }: TruncateOptionType): JSX.Element {\n  return (\n    <>\n      {text.length - (begin + end) > limit ? (\n        <>\n          <span>{text.slice(0, text.length - end)}</span>\n          <span>{text.slice(-end)}</span>\n        </>\n      ) : (\n        <>{text}</>\n      )}\n    </>\n  );\n}\n\nexport interface TextProps extends HTMLAttributes<HTMLDivElement> {\n  /**\n   * Render as HTML element\n   */\n  as?: ElementType<any>;\n  /**\n   * Clamp lines\n   */\n  clamp?: number;\n  /**\n   * Content\n   */\n  content?: string;\n  /**\n   * Hyphens\n   */\n  hyphens?: 'manual' | 'auto' | 'none';\n  /**\n   * White space\n   */\n  space?: 'normal' | 'nowrap' | 'pre';\n  /**\n   * Truncate text\n   */\n  truncate?: boolean | Partial<TruncateOptionType>;\n  /**\n   * Word break\n   */\n  word?: 'normal' | 'break' | 'keep';\n}\n\n/**\n * Text\n */\nexport const Text = forwardRef<HTMLDivElement, TextProps>(\n  (\n    {\n      as = 'span',\n      children,\n      clamp,\n      content,\n      hyphens = 'manual',\n      space,\n      truncate,\n      word = 'normal',\n      ...props\n    },\n    ref\n  ): JSX.Element => {\n    const short = truncate instanceof Object && ('begin' in truncate || 'end' in truncate);\n    const text = content && short ? shorten(content, truncate as TruncateOptionType) : children;\n    const qa = {\n      'data-qa': `text-${as}`,\n    };\n\n    return (\n      <Container\n        as={as}\n        data-clamp={clamp || null}\n        data-hyphens={hyphens}\n        data-space={space || null}\n        data-truncate={text && short ? 'smart' : truncate ? 'simple' : null}\n        data-word={word}\n        ref={ref}\n        style={{\n          ['--lines' as string]: clamp,\n          ['--chars-begin' as string]: short && truncate instanceof Object && truncate?.begin,\n          ['--chars-end' as string]: short && truncate instanceof Object && truncate?.end,\n        }}\n        {...qa}\n        {...props}\n      >\n        {text}\n      </Container>\n    );\n  }\n);\n\nconst Container = styled.span`\n  ${text};\n`;\n","import { css } from '@emotion/react';\n\nimport { clamp, truncate } from '../../styles';\n\nexport const text = css`\n  &[data-clamp] {\n    ${clamp};\n  }\n\n  &[data-hyphens='auto'] {\n    hyphens: auto;\n  }\n  &[data-hyphens='none'] {\n    hyphens: none;\n  }\n\n  &[data-space='normal'] {\n    white-space: normal;\n  }\n  &[data-space='nowrap'] {\n    white-space: nowrap;\n  }\n  &[data-space='pre'] {\n    white-space: pre;\n  }\n\n  &[data-truncate='simple'] {\n    ${truncate};\n  }\n\n  &[data-truncate='smart'] {\n    --char-size: calc(0.68 * 1em);\n    --size-begin: calc(var(--char-size) * var(--chars-begin, 0));\n    --size-end: calc(var(--char-size) * var(--chars-end, 0));\n\n    display: inline-flex;\n    max-width: 100%;\n\n    span {\n      overflow: hidden;\n      white-space: nowrap;\n\n      &:nth-of-type(1) {\n        max-width: calc(100% - var(--size-end));\n        min-width: var(--size-begin);\n        text-overflow: ellipsis;\n      }\n      &:nth-of-type(2) {\n        max-width: var(--size-end);\n      }\n    }\n  }\n\n  &[data-word='break'] {\n    word-break: break-all;\n  }\n  &[data-word='keep'] {\n    word-break: keep-all;\n  }\n`;\n","import { css } from '@emotion/react';\n\nexport const clamp = css`\n  display: -webkit-box;\n  overflow: hidden;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: var(--lines, 1);\n`;\n\nexport const truncate = css`\n  display: inline-block;\n  max-width: inherit;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: inherit;\n`;\n\nexport { EASING, fadeInAnimation } from './animations';\n","import { keyframes } from '@emotion/react';\nimport { Keyframes } from '@emotion/serialize';\n\n/**\n * Easing.\n * @see http://matthewlein.com/ceaser/\n */\nexport const EASING = {\n  easeInOut: 'ease-in-out',\n  easeInOutQuart: 'cubic-bezier(0.770, 0.000, 0.175, 1.000)',\n  easeOutCirc: 'cubic-bezier(0.075, 0.820, 0.165, 1.000)',\n  easeOutCubic: 'cubic-bezier(0.215, 0.610, 0.355, 1.000)',\n};\n\n/**\n * Fade In.\n */\nexport const fadeInAnimation: Keyframes = keyframes`\n  0%    { opacity: 0; }\n  100%  { opacity: 1; }\n`;\n"],"mappings":";smCAAA,sCCAA,MAAmB,8BACnB,EAA+D,oBCD/D,MAAoB,0BCApB,MAAoB,0BCApB,MAA0B,0BAiBnB,GAAM,GAA6B;AAAA;AAAA;EDfnC,GAAM,GAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,EAOR,EAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EDLjB,GAAM,GAAO;AAAA;AAAA,MAEd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAqBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EDhBN,WAAiB,EAAc,CAAE,QAAQ,EAAG,MAAM,EAAG,QAAQ,GAAsC,CACjG,MACE,iDACG,EAAK,OAAU,GAAQ,GAAO,EAC7B,gDACE,wBAAC,OAAD,KAAO,EAAK,MAAM,EAAG,EAAK,OAAS,IACnC,wBAAC,OAAD,KAAO,EAAK,MAAM,CAAC,KAGrB,gDAAG,IAwCJ,GAAM,GAAO,iBAClB,CACE,EAWA,IACgB,CAZhB,QACE,MAAK,OACL,WACA,QACA,UACA,UAAU,SACV,QACA,WACA,OAAO,UART,EASK,IATL,EASK,CARH,KACA,WACA,QACA,UACA,UACA,QACA,WACA,SAKF,GAAM,GAAQ,YAAoB,SAAW,UAAW,IAAY,OAAS,IACvE,EAAO,GAAW,EAAQ,EAAQ,EAAS,GAAkC,EAC7E,EAAK,CACT,UAAW,QAAQ,KAGrB,MACE,yBAAC,EAAD,KACE,GAAI,EACJ,aAAY,GAAS,KACrB,eAAc,EACd,aAAY,GAAS,KACrB,gBAAe,GAAQ,EAAQ,QAAU,EAAW,SAAW,KAC/D,YAAW,EACX,IAAK,EACL,MAAO,EACJ,WAAsB,GACtB,iBAA4B,GAAS,YAAoB,SAAU,kBAAU,QAC7E,eAA0B,GAAS,YAAoB,SAAU,kBAAU,OAE1E,GACA,GAEH,KAMH,EAAY,UAAO;AAAA,IACrB;","names":[]}